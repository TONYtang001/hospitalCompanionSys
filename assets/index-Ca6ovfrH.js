import{_ as I,u as P,r as m,o as Y,f,g as j,h as e,i as w,k as h,w as a,j as s,t as g,d as M,z as y,F as T,ak as O,al as H,p as U,v as A,x as L,s as R,y as $}from"./index-2biiodU7.js";import{E as q,a as G,b as J,c as K}from"./index-CzY_ShLU.js";import{E as Q,a as W}from"./index-Clo506GO.js";const X={class:"form"},Z={class:"pagination-info"},ee={__name:"index",setup(te){const E=P(),r=m({pageNum:1,pageSize:10}),p=m({out_trade_no:""}),x=()=>{i(p)},_=m({list:[],total:0}),i=(n={})=>{O({...r,...n}).then(({data:t})=>{console.log(t,"adminOrder");const{list:d,total:c}=t.data;_.list=d,_.total=c})};Y(()=>{i()});const k=n=>({已支付:"info",待支付:"warning",已完成:"success"})[n],v=n=>{console.log(n,"id"),H({id:n}).then(({data:t})=>{t.code===1e4&&i()})},C=n=>{r.pageSize=n,i()},z=n=>{r.pageNum=n,i()};return(n,t)=>{const d=U,c=A,b=L,u=R,N=$,l=q,F=Q,S=G,D=W,V=J,B=K;return f(),j(T,null,[e(d,{route:w(E)},null,8,["route"]),h("div",X,[e(N,{model:p,inline:!0},{default:a(()=>[e(b,{prop:"out_trade_no"},{default:a(()=>[e(c,{modelValue:p.out_trade_no,"onUpdate:modelValue":t[0]||(t[0]=o=>p.out_trade_no=o),placeholder:"订单号"},null,8,["modelValue"])]),_:1}),e(b,{prop:"out_trade_no"},{default:a(()=>[e(u,{type:"primary",onClick:x},{default:a(()=>t[2]||(t[2]=[s("查询")])),_:1})]),_:1})]),_:1},8,["model"])]),e(V,{data:_.list,style:{width:"100%"}},{default:a(()=>[e(l,{prop:"out_trade_no",label:"订单号",width:"150",fixed:"left"}),e(l,{prop:"hospital_name",label:"就诊医院"}),e(l,{prop:"service_name",label:"陪诊服务"}),e(l,{label:"陪护师头像"},{default:a(o=>[e(F,{style:{width:"40px",height:"40px"},src:o.row.companion.avatar},null,8,["src"])]),_:1}),e(l,{label:"陪护师手机号",width:"120"},{default:a(o=>[s(g(o.row.companion.mobile),1)]),_:1}),e(l,{prop:"price",label:"总价"}),e(l,{prop:"paidPrice",label:"已付"}),e(l,{label:"下单时间",width:"120"},{default:a(o=>[s(g(w(M)(o.row.order_start_time).format("YYYY-MM-DD")),1)]),_:1}),e(l,{label:"订单状态"},{default:a(o=>[e(S,{type:k(o.row.trade_state)},{default:a(()=>[s(g(o.row.trade_state),1)]),_:2},1032,["type"])]),_:1}),e(l,{prop:"service_state",label:"接单状态"}),e(l,{prop:"tel",label:"联系人手机号",width:"120"}),e(l,{label:"操作",width:"100",fixed:"right"},{default:a(o=>[o.row.trade_state==="待服务"?(f(),y(D,{key:0,"confirm-button-text":"Yes","cancel-button-text":"No",icon:n.InfoFilled,"icon-color":"#626AEF",title:"是否确认完成?",onConfirm:oe=>v(o.row.out_trade_no)},{reference:a(()=>[e(u,{type:"primary",link:""},{default:a(()=>t[3]||(t[3]=[s("服务完成")])),_:1})]),_:2},1032,["icon","onConfirm"])):(f(),y(u,{key:1,type:"primary",link:"",disabled:""},{default:a(()=>t[4]||(t[4]=[s("暂无服务")])),_:1}))]),_:1})]),_:1},8,["data"]),h("div",Z,[e(B,{"current-page":r.pageNum,"onUpdate:currentPage":t[1]||(t[1]=o=>r.pageNum=o),"page-size":r.pageSize,background:!1,size:"small",layout:"total, prev, pager, next, sizes",total:_.total,onSizeChange:C,onCurrentChange:z},null,8,["current-page","page-size","total"])])],64)}}},re=I(ee,[["__scopeId","data-v-2137b2aa"]]);export{re as default};
